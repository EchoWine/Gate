<div id='content'>
	{{include .main.cat}}

	{{include .response}}
	<form method='POST'></form>
	<form method='POST'>
		<input type='hidden' name='transaction' value='205ec7bdccb067bebf0cc3f0335d57915e0e18a9'>
		<div class='content-header'>

			{{include .main.title {$actionPage = 'list'}}}


			<a href='{{$item -> getUrlPageAdd()}}' class='button a success'>
				<span class='fa fa-plus-circle'></span> Aggiungi
			</a>
			
			<!--
			<a class='button a primary' href='data.php?p=data_sett'>
				<span class='fa fa-cogs'></span>
				Preferenze
			</a>


			<span class='button a primary' type='button'>
				<span class='fa fa-upload'></span>Importa
			</span>

			<span class='button a primary' type='button'>
				<span class='fa fa-download'></span> Esporta
			</span>

			<span class='b-button button a danger'>
				<span class='fa fa-trash'></span> Formatta
			</span>
			-->
		</div>
	</form>

	{{include .main-list.pag}}

	<form method='POST' enctype='multipart/form-data'>

		<div class='table-data-filter'>
		
			<select class='select n' name='{{$item -> getDataName('action')}}' id='value_operationMultiple'>
				<option value=''>Seleziona...</option>
				<!--
				<option value='export_xml_m'> Esporta XML </option>
				<option value='export_csv_m'> Esporta CSV </option>
				<option value='edit_multiple'> Modifica </option> 
				-->

				<option value='{{$item -> getDataOption('action','copy_m')}}'> Copia </option>
				<option value='{{$item -> getDataOption('action','delete_m')}}' data-button-window='sure' data-window-value='{{$item -> getDataOption('action','delete_s')}}'> Elimina </option>
			</select>

			<button class='button n' id='button_operationMultiple' data-multiple-button>Invia</button>

			<!--
			<button type='submit' name='force_update' class='button lf'>
				<div class='button a info'> <span class='fa fa-terminal'></span>Forza aggiornamento </div>
			</button> 
			-->
		</div>
		<div class='data-table' id='data'>
			<div class='head'>
				<div class='check-row'>
					<input type='checkbox' class='check b d' id='check-all0' data-item-table-checkAll='0'>
					<label class='noselect m-5' for='check-all0'><span></span></label>
				</div>
				
				{{for $item -> getFieldsList() as $field}}
					
					<a href='{{$item -> getUrlPageList($field -> name)}}'> 
						<span class='title'>{{$field -> label}}</span>
						
						<button class='button r'>

							<span class='fa fa-sort-{{switch $item -> getOrderField($field -> name)}}

								{{case 'desc'}}desc{{/case}}

								{{case 'asc'}}asc{{/case}}

							{{/switch}}'></span>
						</button>
						
					</a>

				{{endfor}}

				<div class='last action'> Azione </div>
			</div>
			
			<div class='row search' id='dataTable_searchBar'>
				<div class='check-row'></div>

				{{for $item -> getFieldsSearch() as $field}}

					<div data-search-data='search_button_send'>
						<div class='container-input-search'>{{include $field -> getPathInputData() {
							$name = $field -> getFormNameSearch(),
							$value = ''
						}}}</div> 
						<div class='container-key-search'>{{for $item -> getSearched($field -> name) as $searched}}
							<div class='container-input-search'>
								{{include $field -> getPathInputData() {
									$name = $field -> getFormNameSearch(),
									$value = $field -> printInputValueSearch($searched)
								}}}
								<div class="container-delete-key"><button type="button" class="button a i danger"><span class="fa fa-trash"></span></button></div>
							</div>
						{{endfor}}</div>
					</div>

				{{endfor}}

				<div class='last action'>
					<button type='submit' name='{{$item -> getDataName('action')}}' value='{{$item -> getDataOption('action','search')}}' class='button'>
						<div class='button a i primary'>
							<span class='fa fa-search'></span>
						</div>
					</button>
					<a href='{{$item -> getUrlPageList()}}' class='button a i warning' data-search-class=''>
							<span class='fa fa-eraser'></span>
					</a>
					<span class='button a i primary'>
						<span class='fa fa-link'></span>
					</span>
				</div>
			</div>

			<?php $i = 0;?>
			{{for $item -> results -> records as $record}}
				<div class='row' data-hide-click='1'>
					<div class='check-row'>
						<input type='checkbox' name="{{$item -> getDataName('p_primary_m')}}[]" value='{{$record[$item -> getFieldPrimary() -> column]}}' id='selectItem_0_{{$i}}' class='check b d' data-item-table-check='0'><label class='noselect m-5' for='selectItem_0_{{$i++}}'><span></span></label>
					</div>

					{{for $item -> getFieldsList() as $field}}
						<div class='info string'><div>{{$record[$field -> column]}}</div></div>
					{{endfor}}

					<div class='last action'>
						<!--
						<span class='button a i primary' data-button-action='1'>
							<span class='fa fa-download'></span>
						</span>
						-->
						<a data-button href='{{$item -> getUrlPageAdd($record[$item -> getFieldPrimary() -> column])}}' class='button a i success'>
							<span class='fa fa-plus-square'></span>
						</a>
						
						<button type='submit' class='button' name='{{$item -> getDataName('action')}}' value='{{$item -> getDataOption('action','copy_s')}}' item-primary-value ='{{$record[$item -> getFieldPrimary() -> column]}}'>
							<span class='button a i success'>
								<span class='fa fa-copy'></span>
							</span>
						</button>

						<a data-button href='{{$item -> getUrlPageView($record[$item -> getFieldPrimary() -> column])}}' class='button a i info'>
							<span class='fa fa-file-text'></span> 
						</a>

						<a data-button href='{{$item -> getUrlPageEdit($record[$item -> getFieldPrimary() -> column])}}' class='button a i warning'>
							<span class='fa fa-pencil'></span>
						</a>
						
						<button type='submit' class='button' name='{{$item -> getDataName('action')}}' value='{{$item -> getDataOption('action','delete_s')}}' item-primary-value='{{$record[$item -> getFieldPrimary() -> column]}}' confirm-event='click,submit'>
							<span class='button a i danger'>
								<span class='fa fa-trash'></span>
							</span>
						</button>
					</div>
				</div>
			{{endfor}}
		</div>
		<input type='hidden' name='transaction' value='205ec7bdccb067bebf0cc3f0335d57915e0e18a9'>

		<input type='hidden' item-primary name="{{$item -> getDataName('p_primary')}}" value='0'>
		<input type='hidden' item-action name="{{$item -> getDataName('action')}}" value=''>
	</form>

	{{include .main-list.pag}}
	
</div>


<div id='box-container'>
	<div class='box-window' id='box-confirm'>
		<div class='box-content'>
			<div>
				<h1 box-data-title></h1>
				<button class='button a i danger' box-close>
					<span class='fa fa-close'></span>
				</button>
			</div>
			<div>
	
				<span box-data-message></span>

				<div class='box-confirm-button'>
					<button type='submit' class='button a danger' box-send>SÃ¬</button>
					<button type='button' class='button a info' box-close>No</button>
				</div>

			</div>
		</div>
	</div>
</div>
