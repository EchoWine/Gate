<div id='content'>
	
	{{include .main.cat}}

	<form method='POST'></form>
	<form method='POST' enctype='multipart/form-data'>
		<div class='content-header'>
			{{include .main.title {$actionPage = 'edit'}}}

			<input type='hidden' name="{{$item -> getDataName('p_primary')}}" value='{{$item -> results -> record[$item -> getFieldPrimary() -> getColumnName()]}}'>

			{{include .button-backToList}}

			<button type='submit' class='button' name='{{$item -> getDataName('action')}}' value='{{$item -> getDataOption('action','edit')}}'>
				<div class='button a warning'>
					<span class='fa fa-plus-circle'></span> Apply changes
				</div>
			</button>
		</div>


		{{include .response}}

		<div class='data-form'>
			<!--
			<fieldset>
				<legend> Generale </legend>

			-->
				{{if !empty($item -> results -> primary)}}
					<div class='field'>
						<label>Take from: </label>
						<div class='data'>
							<select id='item-edit-take' class='select n' item-baseurl='{{$item -> getUrlPageEdit()}}' item-getname='{{$item -> getDataName('g_primary_m')}}'>
								<option value='{{$item -> getDataValue('g_primary')}}'>
									{{$item -> results -> record[$item -> getFieldLabel() -> getColumnName()]}}
								</option>
								{{for $item -> results -> primary as $k}}
									<option value='{{$k[$item -> getFieldPrimary() -> getColumnName()]}}'>
										{{$k[$item -> getFieldLabel() -> getColumnName()]}}
									</option>
								{{endfor}}
							</select>
						</div>
					</div>
				{{endif}}
				{{for $item -> getFieldsEdit() as $field}}
					<div class='field'>
						<label>{{$field -> label}}: </label>
						<div class='data'>
							{{include $field -> getPathInputData() {
								$name = $field -> getFormName(),
								$value = $field -> printInputValue($item -> results -> record)
							}}}
						</div>
					</div>
				{{endfor}}

			<!--
			</fieldset>

			-->
		</div>
	</form>
</div>